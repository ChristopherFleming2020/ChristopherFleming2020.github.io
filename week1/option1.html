<html>
  <head>
    <title>Earthquakes From USGS Data: Fancy HeatMap</title>
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDWPklzn-CLNUL_DtbOt4j2cEZ0vnk085k&callback=initMap&libraries=&v=weekly"
      defer
    ></script>
    <script
defer
src="https://maps.googleapis.com/maps/api/js?key
=AIzaSyDWPklzn-CLNUL_DtbOt4j2cEZ0vnk085k&libraries=visualization&callback=initMap">
</script>
    <style type="text/css">
      /* Set the size of the div element that contains the map */
      #map {
        height: 85%;
        border-radius: 3pt;
      }
      body {
        height: 100%;
        margin: 0;
        padding: 10;
        font-family: Arial, Helvetica, sans-serif;
        background-color: #747473;
      }
      h3{
        text-align: center;
      }
    </style>
    <script>
// create location, label, and image link lists for marker creation - to challenge myself
var locations = [
 { lat: 44.264093, lng: -80.550239 },
 { lat: 46.548835, lng: -84.315650 },
 { lat: 48.394605, lng: -89.265009},
 { lat: 49.911469, lng: -97.126574 },
 { lat: 52.326258, lng: -113.814176 },
 { lat: 51.192364, lng: -115.560345 },
 { lat: 52.880184, lng: -118.075591 },
 { lat: 49.879592, lng: -119.507863 },
 { lat: 49.299546, lng: -123.115149 },
 { lat: 50.122210, lng: -122.957050 },
  	];
var labels = ['Flesherton', 'Sault Ste. Marie', 'Thunder Bay', 'Winnipeg', 'Red Deer', 'Banff', 'Jasper', 'Kelowna',
'Vancouver','Whistler'
      	];
var images = ['Denali.jpg','Aconcagua.jpg','Elbrus.jpg','Kilimanjaro.jpg','VinsonMassif.jpg','Everest.jpg','Kosciuszko.jpg'
	];

//create map 
  function initMap() {
  const map = new google.maps.Map(document.getElementById("map"), {
    zoom: 4,
    center: {lat: 53.5876, lng: -101.6267},
    mapTypeId: "roadmap",
  });

    setMarkers(map,locations)

  }
// create markers using locations and labels, and create an image link for use in info window

function setMarkers(map,locations){

var marker, i

for (i = 0; i < locations.length; i++)
{  

var loc = locations[i]
var tit = labels[i]
var pic = "<img src='"+images[i]+"' alt='"+images[i]+"' style='width:200px;height:120px;'>"

var marker = new google.maps.Marker({  
    map: map, title: tit , position: loc
  });
  

// create content for info window and addListener to initiate window on marker click

  var content = "<h3>"+tit+"</h1><div>"+pic+"</div>"

var infowindow = new google.maps.InfoWindow()

google.maps.event.addListener(marker,'click', (function(marker,content,infowindow){ 
  return function() {
     infowindow.setContent(content);
     infowindow.open(map,marker);
map.setCenter(marker.getPosition())
  };
})(marker,content,infowindow)); 

}
}
    </script>
  </head>
  <body>
    <h3>The Google Maps Demo Tutorial Part 3c: ~*Fancy*~ HeatMap</h3>
    <!--The div element for the map -->
    <div id="map"></div>  
     <p>This section of the Demo shows us EarthQuake Data, sourced from USGS.
       I moved where the map was center for a better visual appearance.
     </p>
  </body>
</html>
