<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <title>Canadian Province Names</title>

    <style>
      html,
      body,
      #viewDiv {
        padding: 0;
        margin: 0;
        height: 90%;
        width: 100%;
      }

      p {
        padding-left: 50px;
        padding-right: 50px;
        padding-top: 20px;
        margin-bottom: 0px;
      }

      @media only screen and (min-width: 800px) {
        div.content {
          max-width: 1080px;
          margin: 0 auto !important;
          float: none !important;
        }

        #viewDiv {
          max-width: 90%;
          /* display: block; */
          margin-left: auto;
          margin-right: auto;
        }
    </style>

    <link
      rel="stylesheet"
      href="https://js.arcgis.com/4.18/esri/themes/light/main.css"
    />
    <script src="https://js.arcgis.com/4.18/"></script>

    <script>
      require([
        "esri/Map",
        "esri/views/MapView",
        "esri/layers/FeatureLayer",
        "esri/widgets/Search",
        "esri/widgets/Legend",
      ], function (Map, MapView, FeatureLayer, Search, Legend) {
        var map = new Map({
          basemap: "DarkGray",
          basemap: "DarkGray",
        });

        // Using map view module to display instead of WebMap
        var view = new MapView({
          container: "viewDiv",
          map: map,

          // Extent changed as a result of reprojection to CRS Lambert to Web Merc
          // Used http://bboxfinder.com to find extent
          extent: {
            // autocasts as new Extent()
            xmin: -15000000,
            ymin: 5800000,
            xmax: -6000000,
            ymax: 9000000,
            spatialReference: 102100, // Web mercator
          },
        });

        // Adds the search widget to the top right corner of the view
        view.ui.add(new Search({ view: view }), "top-left");

        // Despite not having a legend in web map view, this turned out okay
        view.ui.add(new Legend({ view: view }), "bottom-left");

        const labelClass = {
          // autocasts as new LabelClass()
          symbol: {
            type: "text", // autocasts as new TextSymbol()
            color: "#241e1e",
            font: {
              // autocast as new Font()
              family: "Merriweather",
              size: 8,
              weight: "bold",
            },
          },
          labelPlacement: "above-center",
          labelExpressionInfo: {
            expression: "$feature.PRNAME",
          },
        };


        // attemping to add map layer from Luna
        var featureLayer = new FeatureLayer({
          url:
            "https://luna.flemingcollege.ca/arcgis/rest/services/Geom99lab1/HoweCanada/MapServer/0",
          labelingInfo: [labelClass],
        });

        map.add(featureLayer);
      });
    </script>
  </head>
  <body>
	<div> 
	<h1> Map Of Canada</h1>
	</div>

    <div id="viewDiv"></div>

    <div class="content">
      <p>
        Coast to coast, its a large one. 80 hour drive, plently of different biomes and great people.
      </p>
    </div>
	<footer>
	Made By: Christopher Webb, 2021
	</footer>
  </body>
</html>
